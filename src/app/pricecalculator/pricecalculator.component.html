<div *ngFor="let creditData of creditDataList; let i = index">
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Anfang der Kreditsauszahlung</mat-label>
        <input matInput [matDatepicker]="dpStart" [formControl]="creditData.startDate" [min]="creditData.minStartDate"
            [max]="creditData.maxEndDate">
        <mat-datepicker-toggle matSuffix [for]="dpStart"></mat-datepicker-toggle>
        <mat-datepicker #dpStart startView="multi-year" (yearSelected)="chosenStartYearHandler($event, i)"
            (monthSelected)="chosenStartMonthHandler($event, i, dpStart)" panelClass="month-picker">
        </mat-datepicker>
        <mat-error>Anfangsdatum ist gleich oder größer 01.01.1991</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Ende der Kreditsauszahlung</mat-label>
        <input matInput [matDatepicker]="dpEnd" [formControl]="creditData.endDate" [min]="creditData.minEndDate"
            [max]="creditData.maxEndDate">
        <mat-datepicker-toggle matSuffix [for]="dpEnd"></mat-datepicker-toggle>
        <mat-datepicker #dpEnd startView="multi-year" (yearSelected)="chosenEndYearHandler($event, i)"
            (monthSelected)="chosenEndMonthHandler($event, i, dpEnd)" panelClass="month-picker">
        </mat-datepicker>
        <mat-error>Enddatum ist gleich oder kleiner als aktuelles Datum</mat-error>
        <mat-error *ngIf="isDateEndFormControllerValid">Min size: 10px</mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
        <mat-label>Kreditrate</mat-label>
        <input type="number" matInput maxlength="4" placeholder="2,00" min="0,1" max="20"
            [(ngModel)]="creditData.interestRate">
        <mat-error>Minimale Rate: 0,1%; maximale Rate: 20%</mat-error>
        <span matPrefix>%&nbsp;</span>
    </mat-form-field>

</div>
<button mat-stroked-button color="primary" matTooltip="Anschlussfinanzierung hinzufügen"
    (click)="onAddAdditionalFinancing()">Hinzufügen</button>
<button mat-stroked-button color="primary" matTooltip="Anschlussfinanzierung hinzufügen"
    (click)="onDeleteAdditionalFinancing()">Entfernen</button>
<div class="row">

    <!-- <mat-grid-list cols="1" rowHeight="100">
        <mat-grid-tile cols>
            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Anfang der Kreditsauszahlung</mat-label>
                <input matInput [matDatepicker]="dpStart" [formControl]="dateStart" [min]="minStartDate"
                    [max]="maxDate">
                <mat-datepicker-toggle matSuffix [for]="dpStart"></mat-datepicker-toggle>
                <mat-datepicker #dpStart startView="multi-year" (yearSelected)="chosenStartYearHandler($event)"
                    (monthSelected)="chosenStartMonthHandler($event, dpStart)" panelClass="month-picker">
                </mat-datepicker>
                <mat-error>Anfangsdatum ist gleich oder größer 01.01.1991</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Ende der Kreditsauszahlung</mat-label>
                <input matInput [matDatepicker]="dpEnd" [formControl]="dateEnd" [min]="minEndDate" [max]="maxDate">
                <mat-datepicker-toggle matSuffix [for]="dpEnd"></mat-datepicker-toggle>
                <mat-datepicker #dpEnd startView="multi-year" (yearSelected)="chosenEndYearHandler($event)"
                    (monthSelected)="chosenEndMonthHandler($event, dpEnd)" panelClass="month-picker">
                </mat-datepicker>
                <mat-error>Enddatum ist gleich oder kleiner als aktuelles Datum</mat-error>
                <mat-error *ngIf="isDateEndFormControllerValid">Min size: 10px</mat-error>
            </mat-form-field>

            <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
                <mat-label>Kreditrate</mat-label>
                <input type="number" matInput #postalCode maxlength="4" placeholder="2,00" min="0,1" max="20"
                    [(ngModel)]="interestRate">
                <mat-error>Minimale Rate: 0,1%; maximale Rate: 20%</mat-error>
                <span matPrefix>%&nbsp;</span>
            </mat-form-field>

            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Kaufpreis</mat-label>
                <input type="number" matInput placeholder="{{purchasePricePlaceHolder}}" [(ngModel)]="purchasePrice">
                <span matPrefix>€&nbsp;</span>
            </mat-form-field>

            <button mat-stroked-button color="primary" title="inflationsbereinigen Preis samt allen Kosten berechen"
                (click)="onCalculateInflationAdjustedPrice()">Berechnen</button>

            <button mat-stroked-button color="primary" matTooltip="Anschlussfinanzierung hinzufügen"
                (click)="onAddAdditionalFinancing()">Hinzufügen</button>

            <button mat-raised-button matTooltip="Info about the action"
                aria-label="Button that displays a tooltip when focused or hovered over">
                Action
            </button>
        </mat-grid-tile>
        <mat-grid-tile>
            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Angepasster Kaufpreis</mat-label>
                <input matInput [(ngModel)]="inflatedPurchasePrise"
                    matTooltip="Bitte geben Sie den aktuellen Markpreis für vergleichbare Immobilie ein"
                    matTooltipDisabled="false">
                <span matPrefix>€&nbsp;</span>
            </mat-form-field>

            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Aktueller Preis von vergleichbarer Immobilie</mat-label>
                <input type="number" matInput [(ngModel)]="currentMarketPrise">
                <span matPrefix>€&nbsp;</span>
            </mat-form-field>

            <button mat-stroked-button color="primary" (click)="onCalculateReturn()">Rendite berechenen</button>

           
        </mat-grid-tile>
        <mat-grid-tile>
            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Nominale Immobilienrendite p.a.</mat-label>
                <input matInput [(ngModel)]="annualizedReturn">
                <span matPrefix>%&nbsp;</span>
            </mat-form-field>

            <mat-form-field appearance="fill" floatLabel="always">
                <mat-label>Gesamtrendite</mat-label>
                <input matInput [(ngModel)]="overallReturn">
                <span matPrefix>%&nbsp;</span>
            </mat-form-field>

        </mat-grid-tile>
    </mat-grid-list> -->

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Kreditsumme</mat-label>
        <input type="number" matInput placeholder="{{purchasePrice}}" [(ngModel)]="purchasePrice">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>

    
    <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
        <mat-label>Anzahlung</mat-label>
        <input type="number" matInput maxlength="4" placeholder="2,00" min="0,1" max="20"
            [(ngModel)]="downPayment">
        <mat-error>Anzahlung kann nicht negative sein</mat-error>
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
        <mat-label>Nebenkosten</mat-label>
        <input type="number" matInput maxlength="4" placeholder="2,00" min="0,1" max="20"
            [(ngModel)]="closingCost">
        <mat-error>Nebenkosten können nicht negative sein</mat-error>
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>

    <button mat-stroked-button color="primary" title="inflationsbereinigen Preis samt allen Kosten berechen"
        (click)="onCalculateInflationAdjustedPrice()">Berechnen</button>

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Angepasster Kaufpreis</mat-label>
        <input matInput [(ngModel)]="inflatedPurchasePrise"
            matTooltip="Bitte geben Sie den aktuellen Markpreis für vergleichbare Immobilie ein"
            matTooltipDisabled="false">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Aktueller Preis von vergleichbarer Immobilie</mat-label>
        <input type="number" matInput [(ngModel)]="marketPrise">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>

    <button mat-stroked-button color="primary" (click)="onCalculateReturn()">Rendite berechenen</button>

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Nominale Immobilienrendite p.a.</mat-label>
        <input matInput [(ngModel)]="annualizedReturn">
        <span matPrefix>%&nbsp;</span>
    </mat-form-field>

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>Gesamtrendite</mat-label>
        <input matInput [(ngModel)]="overallReturn">
        <span matPrefix>%&nbsp;</span>
    </mat-form-field>
</div>