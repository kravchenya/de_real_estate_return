<div class="one-row-container" *ngFor="let creditData of creditDataList; let i = index">
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Anfang der Kreditsauszahlung</strong></mat-label>
        <input matInput [matDatepicker]="dpStart" [formControl]="creditData.startDate" [min]="creditData.minStartDate"
            [max]="creditData.maxEndDate">
        <mat-datepicker-toggle matSuffix [for]="dpStart"></mat-datepicker-toggle>
        <mat-datepicker #dpStart startView="multi-year" (yearSelected)="chosenStartYearHandler($event, i)"
            (monthSelected)="chosenStartMonthHandler($event, i, dpStart)" panelClass="month-picker"
            (closed)="onClosed(i)">
        </mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Ende der Kreditsauszahlung</strong></mat-label>
        <input matInput [matDatepicker]="dpEnd" [formControl]="creditData.endDate" [min]="creditData.minEndDate"
            [max]="creditData.maxEndDate">
        <mat-datepicker-toggle matSuffix [for]="dpEnd"></mat-datepicker-toggle>
        <mat-datepicker #dpEnd startView="multi-year" (yearSelected)="chosenEndYearHandler($event, i)"
            (monthSelected)="chosenEndMonthHandler($event, i, dpEnd)" panelClass="month-picker" (closed)="onClosed(i)">
        </mat-datepicker>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
        <mat-label><strong>Nebenkosten</strong></mat-label>
        <input type="number" matInput maxlength="4" placeholder="2,00" min="0,1" max="20"
            [(ngModel)]="creditData.closingCost">
        <mat-error>Nebenkosten können nicht negative sein</mat-error>
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
        <mat-label><strong>Effektivzins (Sollzins)</strong></mat-label>
        <input type="number" matInput maxlength="4" placeholder="2,00" min="0,1" max="20"
            [(ngModel)]="creditData.annualPercentageRate">
        <mat-error>Minimale Rate: 0,1%; maximale Rate: 20%</mat-error>
        <span matPrefix>%&nbsp;</span>
    </mat-form-field>
    <mat-error *ngIf="isDateEndFormControllerInvalid[i]">Enddatum ist gleich oder kleiner als
        Anfangsdatum</mat-error>
</div>
<button mat-stroked-button color="primary" matTooltip="Anschlussfinanzierung hinzufügen"
    (click)="onAddAdditionalFinancing()">Hinzufügen</button>
<button mat-stroked-button color="primary" matTooltip="Anschlussfinanzierung hinzufügen"
    (click)="onDeleteAdditionalFinancing()" [disabled]="creditDataList.length === 1">Entfernen</button>
<div class="row">

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Kreditsumme</strong></mat-label>
        <input type="number" matInput placeholder="{{creditAmount}}" [(ngModel)]="creditAmount">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>


    <mat-form-field class="example-full-width" appearance="fill" floatLabel="always">
        <mat-label><strong>Anzahlung</strong></mat-label>
        <input type="number" matInput maxlength="4" placeholder="2,00" min="0,1" max="20" [(ngModel)]="downPayment">
        <mat-error>Anzahlung kann nicht negative sein</mat-error>
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>

    <button mat-stroked-button color="primary" title="inflationsbereinigen Preis samt allen Kosten berechen"
        (click)="onCalculateInflationAdjustedPrice()"
        [disabled]="isDateEndFormControllerInvalid.indexOf(true) > -1">Berechnen</button>

   
</div>

<div class="row">
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>inflationsbereinigter Kaufpreis</strong></mat-label>
        <input matInput [(ngModel)]="inflatedTotalPurchasePrice"
            matTooltip="Bitte geben Sie den aktuellen Markpreis für vergleichbare Immobilie ein"
            matTooltipDisabled="false">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Gesamte Kreditkosten (nominal)</strong></mat-label>
        <input type="number" matInput [(ngModel)]="totalCreditCost">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Bezahlte Zinsen</strong></mat-label>
        <input type="number" matInput [(ngModel)]="totalInterestPaid">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Aktueller Preis von vergleichbarer Immobilie</strong></mat-label>
        <input type="number" matInput [(ngModel)]="marketPrice">
        <span matPrefix>€&nbsp;</span>
    </mat-form-field>
</div>

<div class="row">
    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label>
            <strong>Reale Immobilienrendite p.a.</strong>
        </mat-label>
        <input matInput [(ngModel)]="annualizedReturn">
        <span matPrefix>%&nbsp;</span>
    </mat-form-field>

    <mat-form-field appearance="fill" floatLabel="always">
        <mat-label><strong>Gesamtrendite</strong></mat-label>
        <input matInput [(ngModel)]="overallReturn">
        <span matPrefix>%&nbsp;</span>
    </mat-form-field>

    <button mat-stroked-button color="primary" [disabled]="isDateEndFormControllerInvalid.indexOf(true) > -1"
        (click)="onCalculateReturn()">Rendite berechenen</button>
</div>